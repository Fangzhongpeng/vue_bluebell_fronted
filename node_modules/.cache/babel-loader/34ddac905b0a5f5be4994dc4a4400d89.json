{"remainingRequest":"/Users/kaapo/Desktop/GoProject/bluebell/bluebell_frontend/node_modules/babel-loader/lib/index.js!/Users/kaapo/Desktop/GoProject/bluebell/bluebell_frontend/node_modules/eslint-loader/index.js??ref--13-0!/Users/kaapo/Desktop/GoProject/bluebell/bluebell_frontend/src/service/api.js","dependencies":[{"path":"/Users/kaapo/Desktop/GoProject/bluebell/bluebell_frontend/src/service/api.js","mtime":1688005486091},{"path":"/Users/kaapo/Desktop/GoProject/bluebell/bluebell_frontend/node_modules/cache-loader/dist/cjs.js","mtime":1686880155952},{"path":"/Users/kaapo/Desktop/GoProject/bluebell/bluebell_frontend/node_modules/babel-loader/lib/index.js","mtime":1686880155129},{"path":"/Users/kaapo/Desktop/GoProject/bluebell/bluebell_frontend/node_modules/eslint-loader/index.js","mtime":1686880152065}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmF4aW9zLmRlZmF1bHRzLmJhc2VVUkwgPSAiL2FwaS92MS8iOwpheGlvcy5pbnRlcmNlcHRvcnMucmVxdWVzdC51c2UoZnVuY3Rpb24gKGNvbmZpZykgewogIHZhciBsb2dpblJlc3VsdCA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oImxvZ2luUmVzdWx0IikpOwoKICBpZiAobG9naW5SZXN1bHQpIHsKICAgIC8vY29uc3QgdG9rZW4gPSBsb2dpblJlc3VsdC50b2tlbgogICAgdmFyIHRva2VuID0gbG9naW5SZXN1bHQudG9rZW47CiAgICBjb25zb2xlLmxvZygn5oiR55qEdG9rZW4nLCB0b2tlbik7CiAgICBjb25maWcuaGVhZGVycy5BdXRob3JpemF0aW9uID0gIkJlYXJlciAiLmNvbmNhdCh0b2tlbik7CiAgfQoKICByZXR1cm4gY29uZmlnOwp9LCBmdW5jdGlvbiAoZXJyb3IpIHsKICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpOwp9KTsKYXhpb3MuaW50ZXJjZXB0b3JzLnJlc3BvbnNlLnVzZShmdW5jdGlvbiAocmVzcG9uc2UpIHsKICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDApIHsKICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUocmVzcG9uc2UuZGF0YSk7CiAgfSBlbHNlIHsKICAgIHJldHVybiBQcm9taXNlLnJlamVjdChyZXNwb25zZS5kYXRhKTsKICB9Cn0sIGZ1bmN0aW9uIChlcnJvcikgewogIGNvbnNvbGUubG9nKCdlcnJvcicsIGVycm9yKTsKfSk7CmV4cG9ydCBkZWZhdWx0IGF4aW9zOw=="},{"version":3,"sources":["/Users/kaapo/Desktop/GoProject/bluebell/bluebell_frontend/src/service/api.js"],"names":["axios","defaults","baseURL","interceptors","request","use","config","loginResult","JSON","parse","localStorage","getItem","token","console","log","headers","Authorization","error","Promise","reject","response","status","resolve","data"],"mappings":";AACA,OAAOA,KAAP,MAAkB,OAAlB;AACAA,KAAK,CAACC,QAAN,CAAeC,OAAf,GAAyB,UAAzB;AACAF,KAAK,CAACG,YAAN,CAAmBC,OAAnB,CAA2BC,GAA3B,CAA+B,UAACC,MAAD,EAAY;AACzC,MAAIC,WAAW,GAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,aAArB,CAAX,CAAlB;;AACA,MAAIJ,WAAJ,EAAiB;AAClB;AACA,QAAMK,KAAK,GAAGL,WAAW,CAACK,KAA1B;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBF,KAAvB;AACAN,IAAAA,MAAM,CAACS,OAAP,CAAeC,aAAf,oBAAyCJ,KAAzC;AACE;;AACD,SAAON,MAAP;AACD,CATD,EASG,UAACW,KAAD,EAAW;AACb,SAAOC,OAAO,CAACC,MAAR,CAAeF,KAAf,CAAP;AACA,CAXD;AAaAjB,KAAK,CAACG,YAAN,CAAmBiB,QAAnB,CAA4Bf,GAA5B,CACC,UAAAe,QAAQ,EAAI;AACX,MAAIA,QAAQ,CAACC,MAAT,KAAoB,GAAxB,EAA6B;AAC5B,WAAOH,OAAO,CAACI,OAAR,CAAgBF,QAAQ,CAACG,IAAzB,CAAP;AACA,GAFD,MAEO;AACN,WAAOL,OAAO,CAACC,MAAR,CAAeC,QAAQ,CAACG,IAAxB,CAAP;AACA;AACD,CAPF,EAQC,UAACN,KAAD,EAAW;AACVJ,EAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBG,KAArB;AACA,CAVF;AAaA,eAAejB,KAAf","sourcesContent":["\nimport axios from 'axios';\naxios.defaults.baseURL = \"/api/v1/\";\naxios.interceptors.request.use((config) => {\n  let loginResult = JSON.parse(localStorage.getItem(\"loginResult\"));\n  if (loginResult) { \n\t//const token = loginResult.token\n\tconst token = loginResult.token\n\tconsole.log('我的token', token);\n\tconfig.headers.Authorization = `Bearer ${token}`;\n  }\n  return config;\n}, (error) => {\n\treturn Promise.reject(error);\n});\n\naxios.interceptors.response.use(\n\tresponse => {\n\t\tif (response.status === 200) {\n\t\t\treturn Promise.resolve(response.data);\n\t\t} else {\n\t\t\treturn Promise.reject(response.data);\n\t\t}\n\t},\n\t(error) => {\n\t\tconsole.log('error', error);\n\t}\n);\n\nexport default axios;"]}]}